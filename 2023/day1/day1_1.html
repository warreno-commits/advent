<!DOCTYPE html>
<html>

<head>
    <title>Read Text File</title>
</head>

<body>
    <input type="file" name="inputfile" id="inputfile">
    <br>

    <pre id="output"></pre>

    <script type="text/javascript">
    function firstDigit(num) {
    // 1: get first digit using regex pattern
    const matches = String(num).match(/\d/);
    // 2: convert matched item to integer
    const digit = Number(matches[0]);
    // 3: add sign back as needed
    return (num < 0) ? -digit : digit;
}

    function lastDigit(num) {
    for (var i = num.length - 1; i >= 0; i--) {
    if (!isNaN(num.charAt(i))) return Number(num.charAt(i));
  }
  return null;
}
        document.getElementById('inputfile')
            .addEventListener('change', function () {

                let fr = new FileReader();
                fr.onload = function () {
                    const itemList = fr.result.split(/\r?\n/);
                    let runningSum = 0

                    for (let i = 0 ; i < itemList.length; i++) {
                    const sum = Number("" + firstDigit(itemList[i]) + lastDigit(itemList[i]))
                    console.log(itemList[i]
                    + firstDigit(itemList[i])
                    + lastDigit(itemList[i])
                    + " Total:" + sum )
                    runningSum = runningSum + sum
                    console.log("Running Total:" + runningSum)
                    }
                }

                fr.readAsText(this.files[0]);
            })
    </script>
</body>

</html>